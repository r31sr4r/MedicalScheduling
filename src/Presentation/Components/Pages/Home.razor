@page "/"
@inject NavigationManager NavigationManager
@using MedicalScheduling.Application.Services
@using MudBlazor
@inject UserState UserState

<PageTitle>Welcome</PageTitle>

<MudContainer MaxWidth="MaxWidth.Small" Class="mt-10">
    <MudText Typo="Typo.h4" Align="Align.Center" Class="mb-4">Who are you?</MudText>

<MudGrid Gutter="3">
    <!-- Card para Pacientes -->
    <MudItem xs="12" sm="6">
        <MudCard Class="text-center hover-card">
            <MudCardContent>
                <MudText Typo="Typo.h5">I'm a Patient</MudText>
            </MudCardContent>
            <MudCardMedia Image="/images/patient-icon.png" Alt="Patient Icon" Style="height: 150px;" />
            <MudCardActions>
                <MudButton FullWidth="true" Color="Color.Primary" OnClick="GoToPatientFlow">Select</MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>

    <!-- Card para Médicos -->
    <MudItem xs="12" sm="6">
        <MudCard Class="text-center hover-card">
            <MudCardContent>
                <MudText Typo="Typo.h5">I'm a Doctor</MudText>
            </MudCardContent>
            <MudCardMedia Image="/images/doctor-icon.png" Alt="Doctor Icon" Style="height: 150px;" />
            <MudCardActions>
                <MudButton FullWidth="true" Color="Color.Primary" OnClick="GoToDoctorFlow">Select</MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>
</MudGrid>

</MudContainer>

<style>
    .hover-card:hover {
        box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.3);
        transform: scale(1.02);
        transition: all 0.2s ease-in-out;
    }
</style>

@code {
    private void GoToPatientFlow()
    {
        UserState.SetAsPatient();
        NavigationManager.NavigateTo("/patient-login");
    }

    private void GoToDoctorFlow()
    {
        UserState.SetAsDoctor();
        NavigationManager.NavigateTo("/doctor-appointments");
    }
}